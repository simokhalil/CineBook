<ion-view title="Amis">

    <ion-nav-bar align-title="center" class="bar-dark">
        <ion-nav-back-button class="button-icon icon  ion-ios7-arrow-back">
            Back
        </ion-nav-back-button>

        <ion-nav-buttons side="left">
            <button class="button button-icon icon ion-person-add"
                    ng-click="showAddDialog()">
            </button>
        </ion-nav-buttons>

        <ion-nav-buttons side="right">
            <button class="button button-clear button-assertive"
                    ng-click="data.showDelete = !data.showDelete;">
                Supprimer
            </button>
        </ion-nav-buttons>
    </ion-nav-bar>



    <ion-content>
        <!-- Pull to refresh -->
        <ion-refresher
                on-refresh="refreshFriends()">
        </ion-refresher>

        <div id="search-box" class="bar bar-header item-input padding">
            <div class="item-input-wrapper">
                <i class="icon ion-ios7-search placeholder-icon"></i>
                <input type="search" placeholder="Rechercher par nom, email,..." ng-model="data.searchQuery">
                <i class="clear-search icon ion-ios7-close-outline" ng-click="clearSearch()"></i>
            </div>
        </div>
        <ion-list show-delete="data.showDelete">
            <ion-item ng-if="friends.length == 0">
                Clique sur <i class="icon ion-ios7-plus-outline"></i> pour ajouter un ami
            </ion-item>
            <ion-item ng-repeat="friend in friends | filter: data.searchQuery" type="item-text-wrap" ng-click="friendDetails(friend.id);" style="background: #fff;">

                {{friend.email}}
                <ion-delete-button class="ion-minus-circled" ng-click="onFriendDelete(friend);"></ion-delete-button>
            </ion-item>
        </ion-list>
    </ion-content>
</ion-view>
